{"version":3,"sources":["webpack:///./src/views/rolesManage/userRoles.vue?f788","webpack:///./src/views/rolesManage/userRoles.vue?3292","webpack:///./src/components/rolesManage/editUserRoles.vue?7185","webpack:///src/components/rolesManage/editUserRoles.vue","webpack:///./src/components/rolesManage/editUserRoles.vue?bbe7","webpack:///./src/components/rolesManage/editUserRoles.vue","webpack:///src/views/rolesManage/userRoles.vue","webpack:///./src/views/rolesManage/userRoles.vue?d444","webpack:///./src/views/rolesManage/userRoles.vue","webpack:///./src/config.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","searchList","model","value","searchParam","callback","$$v","$set","trim","expression","_l","itm","index","name","_n","label","_e","time","on","_v","resetForm","showEdit","directives","rawName","list","scopedSlots","_u","fn","scope","row","_s","managerStatus","class","_f","createTime","deleteRole","editData","closeMain","page","limit","total","changePage","staticRenderFns","isShow","isEdit","close","ref","editForm","rules","normalAdmin","isNormalAdmin","uuid","vertifyTel","submitLoading","save","component","components","editUserRoles","data","loading","roleList","roleId","adminUuid","sessionStorage","getItem","JSON","parse","methods","searchTime_after","$utils","formatRange","searchTime_before","pageSize","$confirm","confirmButtonText","cancelButtonText","message","getRolesList","created","orderStatus","refundStatus","payStatus","couponType","courseTypes","courseRights","courseModality","courseStatus","checkStatus","userStatus","adminStatus","userSource","courseTypeList","shareMoneyStatus"],"mappings":"kHAAA,yBAAgtB,EAAG,G,2CCAntB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,OAAS,GAAG,iBAAiB,QAAQ,cAAc,UAAU,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,MAAM,KAAO,QAAQ,UAAY,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAWN,KAAUO,MAAM,CAACC,MAAOjB,EAAIkB,YAAoB,SAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,WAA4B,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,2BAA2B,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,OAAO,KAAO,QAAQ,UAAY,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAWN,KAAUO,MAAM,CAACC,MAAOjB,EAAIkB,YAAmB,QAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,UAA2B,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,0BAA0B,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,MAAM,KAAO,QAAQ,UAAY,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAWN,KAAUO,MAAM,CAACC,MAAOjB,EAAIkB,YAAe,IAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,MAAuB,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,sBAAsB,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAWN,KAAUO,MAAM,CAACC,MAAOjB,EAAIkB,YAAiB,MAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,QAASE,IAAMG,WAAW,sBAAsBvB,EAAIwB,GAAIxB,EAAY,UAAE,SAASyB,EAAIC,GAAO,OAAOtB,EAAG,YAAY,CAACU,IAAIY,EAAMnB,MAAM,CAAC,MAAQkB,EAAIE,KAAK,MAAQF,EAAIE,WAAU,IAAI,GAAGvB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAWN,KAAUO,MAAM,CAACC,MAAOjB,EAAIkB,YAAyB,cAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,gBAAiBlB,EAAI4B,GAAGR,KAAOG,WAAW,8BAA8BvB,EAAIwB,GAAIxB,EAAc,YAAE,SAASyB,EAAIC,GAAO,OAAqB,IAAbD,EAAIR,OAA2B,IAAbQ,EAAIR,MAAYb,EAAG,YAAY,CAACU,IAAIY,EAAMnB,MAAM,CAAC,MAAQkB,EAAII,MAAM,MAAQJ,EAAIR,SAASjB,EAAI8B,QAAO,IAAI,GAAG1B,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,YAAY,kBAAkB,IAAI,oBAAoB,OAAO,kBAAkB,OAAO,eAAe,aAAa,KAAO,SAASS,MAAM,CAACC,MAAOjB,EAAQ,KAAEmB,SAAS,SAAUC,GAAMpB,EAAI+B,KAAKX,GAAKG,WAAW,WAAW,GAAGnB,EAAG,YAAY,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,UAAU,KAAO,iBAAiB,KAAO,SAASyB,GAAG,CAAC,MAAQhC,EAAIe,aAAa,CAACf,EAAIiC,GAAG,QAAQ7B,EAAG,YAAY,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,UAAU,KAAO,kBAAkB,KAAO,QAAQ,MAAQ,IAAIyB,GAAG,CAAC,MAAQhC,EAAIkC,YAAY,CAAClC,EAAIiC,GAAG,QAAQ7B,EAAG,YAAY,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,KAAO,SAASyB,GAAG,CAAC,MAAQ,SAASvB,GAAQ,OAAOT,EAAImC,SAAS,MAAM,CAACnC,EAAIiC,GAAG,YAAY,GAAG7B,EAAG,WAAW,CAACgC,WAAW,CAAC,CAACT,KAAK,UAAUU,QAAQ,YAAYpB,MAAOjB,EAAW,QAAEuB,WAAW,YAAYjB,YAAY,OAAOC,MAAM,CAAC,KAAOP,EAAIsC,KAAK,OAAS,GAAG,OAAS,KAAK,CAAClC,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,OAAO,MAAQ,SAASgC,YAAYvC,EAAIwC,GAAG,CAAC,CAAC1B,IAAI,UAAU2B,GAAG,SAASC,GAAO,OAAO1C,EAAIwB,GAAIkB,EAAMC,IAAS,OAAE,SAASlB,EAAIC,GAAO,OAAOtB,EAAG,OAAO,CAACU,IAAIY,EAAMpB,YAAY,QAAQ,CAACN,EAAIiC,GAAGjC,EAAI4C,GAAGnB,EAAIE,kBAAiBvB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,MAAM,MAAQ,MAAM,MAAQ,WAAWH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,MAAMgC,YAAYvC,EAAIwC,GAAG,CAAC,CAAC1B,IAAI,UAAU2B,GAAG,SAASC,GAAO,OAAO1C,EAAIwB,GAAIxB,EAAc,YAAE,SAASyB,EAAIC,GAAO,OAAOtB,EAAG,MAAM,CAACU,IAAIY,GAAO,CAAED,EAAIR,QAAUyB,EAAMC,IAAIE,cAAezC,EAAG,OAAO,CAAC0C,MAAgC,IAA1BJ,EAAMC,IAAIE,cAAmB,WAAa,cAAc,CAAC7C,EAAIiC,GAAGjC,EAAI4C,GAAGnB,EAAII,UAAU7B,EAAI8B,gBAAe1B,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,OAAO,MAAQ,SAASgC,YAAYvC,EAAIwC,GAAG,CAAC,CAAC1B,IAAI,UAAU2B,GAAG,SAASC,GAAO,MAAO,CAACtC,EAAG,OAAO,CAACJ,EAAIiC,GAAGjC,EAAI4C,GAAG5C,EAAI+C,GAAG,aAAP/C,CAAqB0C,EAAMC,IAAIK,uBAAuB5C,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,SAASgC,YAAYvC,EAAIwC,GAAG,CAAC,CAAC1B,IAAI,UAAU2B,GAAG,SAASC,GAAO,MAAO,CAACtC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,eAAe,KAAO,UAAU,KAAO,SAASyB,GAAG,CAAC,MAAQ,SAASvB,GAAQ,OAAOT,EAAImC,SAAS,EAAEO,EAAMC,QAAQ,CAAC3C,EAAIiC,GAAG,QAAQ7B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,iBAAiB,KAAO,SAAS,KAAO,SAASyB,GAAG,CAAC,MAAQ,SAASvB,GAAQ,OAAOT,EAAIiD,WAAWP,EAAMC,QAAQ,CAAC3C,EAAIiC,GAAG,gBAAgB,GAAG7B,EAAG,gBAAgB,CAACG,MAAM,CAAC,SAAWP,EAAIkD,UAAUlB,GAAG,CAAC,UAAYhC,EAAImD,UAAU,QAAUnD,EAAIe,cAAcX,EAAG,aAAa,CAACG,MAAM,CAAC,YAAcP,EAAIoD,KAAKA,KAAK,SAAWpD,EAAIoD,KAAKC,MAAM,MAAQrD,EAAIoD,KAAKE,OAAOtB,GAAG,CAAC,OAAShC,EAAIuD,eAAe,IACn1KC,EAAkB,G,wDCDlB,EAAS,WAAa,IAAIxD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,QAAUP,EAAIkD,SAASO,OAAO,MAAQzD,EAAIkD,SAASQ,OAAS,QAAQ,QAAQ,MAAQ,QAAQ,eAAe1D,EAAI2D,MAAM,wBAAuB,GAAO3B,GAAG,CAAC,iBAAiB,SAASvB,GAAQ,OAAOT,EAAIqB,KAAKrB,EAAIkD,SAAU,SAAUzC,MAAW,CAACL,EAAG,UAAU,CAACgC,WAAW,CAAC,CAACT,KAAK,UAAUU,QAAQ,YAAYpB,MAAOjB,EAAc,WAAEuB,WAAW,eAAeqC,IAAI,WAAWrD,MAAM,CAAC,OAAS,GAAG,MAAQP,EAAI6D,SAAS,MAAQ7D,EAAI8D,MAAM,cAAgB,QAAQ,WAAa,UAAU,CAAG9D,EAAI+D,YAAYC,cAA0VhE,EAAI8B,KAA/U1B,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,MAAM,SAAWP,EAAIkD,SAASQ,OAAO,UAAY,IAAI1C,MAAM,CAACC,MAAOjB,EAAI6D,SAAiB,SAAE1C,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAI6D,SAAU,WAA4B,kBAARzC,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,wBAAwB,GAAYnB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,UAAU,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,UAAY,IAAIS,MAAM,CAACC,MAAOjB,EAAI6D,SAAc,MAAE1C,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAI6D,SAAU,QAASzC,IAAMG,WAAW,mBAAmBvB,EAAIwB,GAAIxB,EAAY,UAAE,SAASyB,EAAIC,GAAO,OAAOtB,EAAG,YAAY,CAACU,IAAIY,EAAMnB,MAAM,CAAC,MAAQkB,EAAIE,KAAK,MAAQF,EAAIwC,WAAU,IAAI,GAAG7D,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,MAAM,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,MAAM,SAAWP,EAAIkD,SAASQ,OAAO,UAAY,IAAI1B,GAAG,CAAC,MAAQ,SAASvB,GAAQ,OAAOT,EAAIkE,eAAelD,MAAM,CAACC,MAAOjB,EAAI6D,SAAY,IAAE1C,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAI6D,SAAU,MAAuB,kBAARzC,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,mBAAmB,GAAMvB,EAAI+D,YAAYC,eAAiBhE,EAAIkD,SAASQ,OAAmT1D,EAAI8B,KAA9S1B,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,YAAY,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIS,MAAM,CAACC,MAAOjB,EAAI6D,SAAe,OAAE1C,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAI6D,SAAU,SAA0B,kBAARzC,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,sBAAsB,GAAYnB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,UAAU,CAACH,EAAG,iBAAiB,CAACY,MAAM,CAACC,MAAOjB,EAAI6D,SAAsB,cAAE1C,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAI6D,SAAU,gBAAiB7D,EAAI4B,GAAGR,KAAOG,WAAW,2BAA2BvB,EAAIwB,GAAIxB,EAAc,YAAE,SAASyB,EAAIC,GAAO,OAAqB,IAAbD,EAAIR,OAA2B,IAAbQ,EAAIR,MAAYb,EAAG,WAAW,CAACU,IAAIY,EAAMnB,MAAM,CAAC,MAAQkB,EAAIR,QAAQ,CAACjB,EAAIiC,GAAGjC,EAAI4C,GAAGnB,EAAII,UAAU7B,EAAI8B,QAAO,IAAI,IAAI,GAAG1B,EAAG,SAAS,CAACE,YAAY,MAAM,CAACF,EAAG,YAAY,CAAC4B,GAAG,CAAC,MAAQ,SAASvB,GAAQT,EAAIkD,SAASO,QAAS,KAAS,CAACzD,EAAIiC,GAAG,SAAS7B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,QAAUP,EAAImE,eAAenC,GAAG,CAAC,MAAQhC,EAAIoE,OAAO,CAACpE,EAAIiC,GAAG,UAAU,IAAI,IAAI,IAC1rF,EAAkB,G,4kBCuCtB,OACA,OACA,UACA,YACA,+BAGA,cAEA,KATA,WASA,WACA,kBACA,GACA,uBAEA,4BACA,yBAGA,KAEA,kBACA,EAGA,YACA,yBAHA,sBAKA,KAGA,OACA,YACA,iBACA,UACA,UACA,YACA,OACA,gBACA,UAEA,cACA,aACA,iBACA,SAGA,iCACA,OACA,UACA,8CAEA,KACA,0CAEA,QACA,0CAGA,OACA,8CAEA,eACA,iDAKA,SACA,WADA,WACA,WACA,oBACA,iBACA,OACA,OAEA,mBACA,oCACA,gBACA,eAEA,mBACA,eACA,iBACA,kBAEA,8CAGA,mBACA,0CAGA,mBACA,wBACA,8CAIA,mBACA,qBAIA,KAnCA,WAmCA,WACA,6CACA,MAyBA,SAxBA,qBACA,aAEA,CACA,WACA,KACA,gCACA,UADA,MACA,sEADA,KACA,QADA,KACA,gBADA,UAGA,4BAEA,mBACA,uBACA,mBACA,eACA,kCACA,UACA,uBAEA,mBACA,2BAUA,KApEA,WAoEA,WACA,6BACA,SACA,sBACA,qCAEA,GADA,mBACA,cACA,kCACA,qDACA,yBACA,iCACA,2BAGA,UACA,wBAIA,mBACA,uBAGA,MA3FA,WA4FA,qCACA,yBAGA,aAhGA,WAgGA,WACA,GACA,OACA,cAEA,qCACA,eACA,gCAKA,QA/KA,aAiLA,UACA,OADA,WAGA,OADA,oBACA,uBAGA,OACA,OADA,SACA,KACA,qBACA,eACA,+CACA,qCACA,2BACA,6CACA,+BAGA,eACA,YACA,OACA,gBACA,UAEA,kBACA,iBACA,aClP0c,I,YCOtcoC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,olBCiEf,OACEC,WAAF,CACIC,cAAJ,GAEEC,KAJF,WAIA,MACI,OAAJ,GACMC,SAAN,EACMvD,YAAN,GACMwD,SAAN,GACMC,OAAN,GACMC,UAAWC,eAAeC,QAAQ,YAAcC,KAAKC,MAAMH,eAAeC,QAAQ,aAAab,KAAO,GACtG3B,KAAM,IANZ,4BAOA,IAPA,8BAQA,uBARA,4BASA,CACM,QAAN,EACM,QAAN,EACM,KAAN,KAZA,wBAcA,IAdA,wBAeA,CACM,KAAN,EACM,MA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","file":"js/chunk-6d1665b2.a3abd948.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./userRoles.vue?vue&type=style&index=0&id=51bd7f46&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./userRoles.vue?vue&type=style&index=0&id=51bd7f46&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all-user\"},[_c('el-form',{attrs:{\"inline\":\"\",\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名：\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.searchParam.nickName),callback:function ($$v) {_vm.$set(_vm.searchParam, \"nickName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchParam.nickName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户ID：\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户ID\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.searchParam.userNum),callback:function ($$v) {_vm.$set(_vm.searchParam, \"userNum\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchParam.userNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.searchParam.tel),callback:function ($$v) {_vm.$set(_vm.searchParam, \"tel\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchParam.tel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户角色：\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.searchParam.roles),callback:function ($$v) {_vm.$set(_vm.searchParam, \"roles\", $$v)},expression:\"searchParam.roles\"}},_vm._l((_vm.roleList),function(itm,index){return _c('el-option',{key:index,attrs:{\"label\":itm.name,\"value\":itm.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"用户状态：\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.searchParam.managerStatus),callback:function ($$v) {_vm.$set(_vm.searchParam, \"managerStatus\", _vm._n($$v))},expression:\"searchParam.managerStatus\"}},_vm._l((_vm.userStatus),function(itm,index){return (itm.value=== 1 || itm.value=== 3)?_c('el-option',{key:index,attrs:{\"label\":itm.label,\"value\":itm.value}}):_vm._e()}),1)],1),_c('el-form-item',{attrs:{\"label\":\"创建时间：\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_c('el-button',{staticClass:\"ml40 mb20\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"click\":_vm.searchList}},[_vm._v(\"查询\")]),_c('el-button',{staticClass:\"ml40 mb20\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-setting\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")]),_c('el-button',{staticClass:\"ml40 mb20\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEdit(0)}}},[_vm._v(\"添加管理员\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mb20\",attrs:{\"data\":_vm.list,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"userNum\",\"label\":\"用户ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"nickName\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"roles\",\"label\":\"用户角色\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.roles),function(itm,index){return _c('span',{key:index,staticClass:\"mr10\"},[_vm._v(_vm._s(itm.name))])})}}])}),_c('el-table-column',{attrs:{\"prop\":\"tel\",\"label\":\"手机号\",\"width\":\"150px\"}}),_c('el-table-column',{attrs:{\"prop\":\"managerStatus\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.userStatus),function(itm,index){return _c('div',{key:index},[(itm.value === scope.row.managerStatus)?_c('span',{class:scope.row.managerStatus===1? 'col-sucs' : 'col-danger'},[_vm._v(_vm._s(itm.label))]):_vm._e()])})}}])}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"170px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.createTime)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEdit(1,scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteRole(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('editUserRoles',{attrs:{\"editData\":_vm.editData},on:{\"closeMain\":_vm.closeMain,\"refresh\":_vm.searchList}}),_c('pagination',{attrs:{\"currentPage\":_vm.page.page,\"pageSize\":_vm.page.limit,\"total\":_vm.page.total},on:{\"change\":_vm.changePage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.editData.isShow,\"title\":_vm.editData.isEdit ? \"编辑管理员\":\"新增管理员\",\"width\":\"500px\",\"before-close\":_vm.close,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.editData, \"isShow\", $event)}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingTel),expression:\"loadingTel\"}],ref:\"editForm\",attrs:{\"inline\":\"\",\"model\":_vm.editForm,\"rules\":_vm.rules,\"labelPosition\":\"right\",\"labelWidth\":\"120px\"}},[(!_vm.normalAdmin.isNormalAdmin)?_c('el-form-item',{attrs:{\"prop\":\"nickName\",\"label\":\"用户名：\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\",\"disabled\":_vm.editData.isEdit,\"clearable\":\"\"},model:{value:(_vm.editForm.nickName),callback:function ($$v) {_vm.$set(_vm.editForm, \"nickName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.nickName\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"prop\":\"roles\",\"label\":\"用户角色：\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"clearable\":\"\"},model:{value:(_vm.editForm.roles),callback:function ($$v) {_vm.$set(_vm.editForm, \"roles\", $$v)},expression:\"editForm.roles\"}},_vm._l((_vm.roleList),function(itm,index){return _c('el-option',{key:index,attrs:{\"label\":itm.name,\"value\":itm.uuid}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"tel\",\"label\":\"手机号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号\",\"disabled\":_vm.editData.isEdit,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.vertifyTel()}},model:{value:(_vm.editForm.tel),callback:function ($$v) {_vm.$set(_vm.editForm, \"tel\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.tel\"}})],1),(!(_vm.normalAdmin.isNormalAdmin || _vm.editData.isEdit))?_c('el-form-item',{attrs:{\"prop\":\"passwd\",\"label\":\"初始登录密码：\"}},[_c('el-input',{attrs:{\"placeholder\":\"123456\",\"clearable\":\"\"},model:{value:(_vm.editForm.passwd),callback:function ($$v) {_vm.$set(_vm.editForm, \"passwd\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.passwd\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"prop\":\"managerStatus\",\"label\":\"用户状态：\"}},[_c('el-radio-group',{model:{value:(_vm.editForm.managerStatus),callback:function ($$v) {_vm.$set(_vm.editForm, \"managerStatus\", _vm._n($$v))},expression:\"editForm.managerStatus\"}},_vm._l((_vm.userStatus),function(itm,index){return (itm.value=== 1 || itm.value=== 3)?_c('el-radio',{key:index,attrs:{\"label\":itm.value}},[_vm._v(_vm._s(itm.label))]):_vm._e()}),1)],1)],1),_c('el-row',{staticClass:\"tc\"},[_c('el-button',{on:{\"click\":function($event){_vm.editData.isShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<el-dialog :visible.sync='editData.isShow' :title='editData.isEdit ? \"编辑管理员\":\"新增管理员\"' width='500px'\r\n\t\t\t:before-close='close' :close-on-click-modal='false'>\r\n\t\t\t<el-form inline :model='editForm' ref='editForm' :rules='rules' labelPosition='right' labelWidth='120px'\r\n\t\t\t\tv-loading=\"loadingTel\">\r\n\t\t\t\t<el-form-item prop='nickName' label='用户名：' v-if=\"!normalAdmin.isNormalAdmin\">\r\n\t\t\t\t\t<el-input v-model.trim='editForm.nickName' placeholder='用户名' :disabled='editData.isEdit' clearable></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop='roles' label='用户角色：'>\r\n\t\t\t\t\t<el-select v-model='editForm.roles' multiple clearable>\r\n\t\t\t\t\t\t<el-option v-for='(itm,index) in roleList' :key='index' :label='itm.name' :value='itm.uuid'></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop='tel' label='手机号：'>\r\n\t\t\t\t\t<el-input v-model.trim='editForm.tel' placeholder='手机号' :disabled='editData.isEdit' clearable\r\n\t\t\t\t\t\t@input=\"vertifyTel()\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 编辑状态下或者是普通用户情况下不显示密码框， -->\r\n\t\t\t\t<el-form-item prop='passwd' label='初始登录密码：' v-if=\"!(normalAdmin.isNormalAdmin || editData.isEdit)\">\r\n\t\t\t\t\t<el-input v-model.trim='editForm.passwd' placeholder='123456'  clearable>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop='managerStatus' label=\"用户状态：\">\r\n\t\t\t\t\t<el-radio-group v-model.number='editForm.managerStatus'>\r\n\t\t\t\t\t\t<el-radio v-for='(itm,index) in userStatus' v-if=\"itm.value=== 1 || itm.value=== 3\" :key='index'\r\n\t\t\t\t\t\t\t:label='itm.value'>{{itm.label}}</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<el-row class=\"tc\">\r\n\t\t\t\t<el-button @click=\"editData.isShow = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"save\" :loading=\"submitLoading\">确 定</el-button>\r\n\t\t\t</el-row>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { getRoles, editUserRoles, normalToAdmin, checkTel, addUserRoles } from '@/api/home'\r\n\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\teditData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => { return {} }\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst checkPhone = (rule, value, callback) => {\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tcallback(new Error(\"请输入手机号\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.$utils.PHONE_REG.test(value)) {\r\n\t\t\t\t\tcallback(new Error(\"手机号格式不正确\"));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\t\t\tconst checkPassword = (rule, value, callback) => {\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tcallback(new Error(\"请输入密码\"));\r\n\t\t\t\t}\r\n\t\t\t\telse if (value.length < 6) {\r\n\t\t\t\t\tcallback(new Error(\"密码不少于6位数\"));\r\n\t\t\t\t}\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\troleList: [],\r\n\t\t\t\tsubmitLoading: false,\r\n\t\t\t\teditForm: {\r\n\t\t\t\t\tpasswd: \"\",\r\n\t\t\t\t\tnickName: '',\r\n\t\t\t\t\ttel: '',\r\n\t\t\t\t\tmanagerStatus: 1,\r\n\t\t\t\t\troles: []\r\n\t\t\t\t},\r\n\t\t\t\tloadingTel: false,\r\n\t\t\t\tnormalAdmin: {\r\n\t\t\t\t\tisNormalAdmin: false,\r\n\t\t\t\t\tuuid: \"\"\r\n\t\t\t\t},\r\n\r\n\t\t\t\tuserStatus: require('@/config').adminStatus,\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnickName: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入名称', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttel: [\r\n\t\t\t\t\t\t{ required: true, validator: checkPhone, trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tpasswd: [\r\n\t\t\t\t\t\t{ required: true, validator: checkPassword, trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\r\n\t\t\t\t\troles: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择角色', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tmanagerStatus: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择状态', trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tvertifyTel() {\r\n\t\t\t\tlet val = this.editForm.tel;\r\n\t\t\t\tif (val.length == 11) {\r\n\t\t\t\t\tconst param = {\r\n\t\t\t\t\t\ttel: val\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loadingTel = true;\r\n\t\t\t\t\tcheckTel(param).then(res => {\r\n\t\t\t\t\t\tthis.loadingTel = false;\r\n\t\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t\t// 普通用户\r\n\t\t\t\t\t\t\tif (res.data.status == 1) {\r\n\t\t\t\t\t\t\t\tthis.normalAdmin = {\r\n\t\t\t\t\t\t\t\t\tisNormalAdmin: true,\r\n\t\t\t\t\t\t\t\t\tuuid: res.data.uuid\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$message.success('该用户是普通用户，无需填写登录密码和用户名称');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 新建用户\r\n\t\t\t\t\t\t\tif (res.data.status == 2) {\r\n\t\t\t\t\t\t\t\tthis.normalAdmin = { isNormalAdmin: false, uuid: '' }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 已经是管理员\r\n\t\t\t\t\t\t\tif (res.data.status == 3) {\r\n\t\t\t\t\t\t\t\tthis.$message.error(res.msg);\r\n\t\t\t\t\t\t\t\tthis.normalAdmin = { isNormalAdmin: false, uuid: '' }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.loadingTel = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsave() {\r\n\t\t\t\tthis.$refs['editForm'].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (this.editData.isEdit) {\r\n\t\t\t\t\t\t\tthis.edit()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tlet apiName = null;\r\n\t\t\t\t\t\t\tlet param = {};\r\n\t\t\t\t\t\t\tif (this.normalAdmin.isNormalAdmin) {\r\n\t\t\t\t\t\t\t\tapiName = normalToAdmin;[param.uuid, param.roles, param.managerStatus] = [this.normalAdmin.uuid, this.editForm.roles, this.editForm.managerStatus];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tapiName = addUserRoles; param = { ...this.editForm };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.submitLoading = true;\r\n\t\t\t\t\t\t\tapiName(param).then(res => {\r\n\t\t\t\t\t\t\t\tthis.submitLoading = false;\r\n\t\t\t\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t\t\t\tthis.$message.success(res.msg || '新增成功')\r\n\t\t\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\t\t\tthis.$emit(\"refresh\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\tthis.submitLoading = false;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//编辑\r\n\t\t\tedit() {\r\n\t\t\t\tlet param = { ...this.editForm };\r\n\t\t\t\tdelete param.passwd;\r\n\t\t\t\tthis.submitLoading = true;\r\n\t\t\t\teditUserRoles(param).then(res => {\r\n\t\t\t\t\tthis.submitLoading = false;\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.$message.success(res.msg || '编辑成功');\r\n\t\t\t\t\t\tlet userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"))\r\n\t\t\t\t\t\tif (this.editForm.uuid == userInfo.uuid) {\r\n\t\t\t\t\t\t\tthis.$message.success('编辑成功,请重新登录');\r\n\t\t\t\t\t\t\tthis.$utils.loginOutClear()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\tthis.$emit(\"refresh\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.submitLoading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.$refs['editForm'].resetFields()\r\n\t\t\t\tthis.$emit('closeMain')\r\n\t\t\t},\r\n\t\t\t//获取用户角色列表\r\n\t\t\tgetRolesList() {\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpageSize: 100000,\r\n\t\t\t\t}\r\n\t\t\t\tgetRoles(param).then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.roleList = res.data.results\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnewObj() {\r\n\t\t\t\tthis.getRolesList()\r\n\t\t\t\treturn this.editData.isShow\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tnewObj(a, b) {\r\n\t\t\t\tif (this.editData.isEdit) {\r\n\t\t\t\t\tthis.editForm = {\r\n\t\t\t\t\t\tmanagerStatus: this.editData.data.managerStatus,\r\n\t\t\t\t\t\tnickName: this.editData.data.nickName,\r\n\t\t\t\t\t\ttel: this.editData.data.tel,\r\n\t\t\t\t\t\troles: _.map(this.editData.data.roles, 'uuid'),\r\n\t\t\t\t\t\tuuid: this.editData.data.uuid\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.editForm = {\r\n\t\t\t\t\t\tnickName: '',\r\n\t\t\t\t\t\ttel: '',\r\n\t\t\t\t\t\tmanagerStatus: 1,\r\n\t\t\t\t\t\troles: []\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.normalAdmin = {\r\n\t\t\t\t\t\tisNormalAdmin: false,\r\n\t\t\t\t\t\tuuid: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editUserRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editUserRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editUserRoles.vue?vue&type=template&id=99f919d4&scoped=true&\"\nimport script from \"./editUserRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./editUserRoles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99f919d4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"all-user\">\r\n     <!-- 搜索条件 -->\r\n    <el-form inline label-position=\"right\" label-width=\"100px\">\r\n      <el-form-item label='用户名：'>\r\n        <el-input v-model.trim='searchParam.nickName' @keyup.enter.native='searchList' placeholder='用户名' size='small' clearable></el-input>\r\n      </el-form-item> \r\n      <el-form-item label='用户ID：'>\r\n        <el-input v-model.trim='searchParam.userNum' @keyup.enter.native='searchList' placeholder='用户ID' size='small' clearable></el-input>\r\n      </el-form-item> \r\n      <el-form-item label='手机号：'>\r\n        <el-input v-model.trim='searchParam.tel' @keyup.enter.native='searchList' placeholder='手机号' size='small' clearable></el-input>\r\n      </el-form-item> \r\n      <el-form-item label='用户角色：'>\r\n        <el-select v-model='searchParam.roles'  @keyup.enter.native='searchList' size='small' clearable>\r\n          <el-option v-for='(itm,index) in roleList' :key='index' :label='itm.name' :value='itm.name'></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label='用户状态：'>\r\n        <el-select v-model.number='searchParam.managerStatus' @keyup.enter.native='searchList' size='small' clearable>\r\n          <el-option \r\n          v-if=\"itm.value=== 1 || itm.value=== 3\" \r\n          v-for='(itm,index) in userStatus' \r\n          :key='index' \r\n          :label='itm.label' \r\n          :value='itm.value'>\r\n        </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label='创建时间：'>\r\n          <el-date-picker\r\n            v-model=\"time\"\r\n            type=\"daterange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            value-format='yyyy-MM-dd'\r\n            size=\"small\"\r\n          ></el-date-picker>\r\n      </el-form-item>\r\n      <el-button @click=\"searchList\" class=\"ml40 mb20\" type=\"success\" icon=\"el-icon-search\" size=\"small\">查询</el-button>\r\n      <el-button @click=\"resetForm\" class=\"ml40 mb20\" type=\"primary\" icon=\"el-icon-setting\" size=\"small\" plain>重置</el-button>\r\n      <el-button @click=\"showEdit(0)\" class=\"ml40 mb20\" type=\"primary\" icon=\"el-icon-plus\" size=\"small\">添加管理员</el-button>\r\n    </el-form>\r\n     <!-- 搜索结果 -->\r\n    <el-table :data=\"list\" border stripe class=\"mb20\" v-loading=\"loading\">\r\n      <el-table-column prop=\"userNum\" label=\"用户ID\"></el-table-column>\r\n      <el-table-column prop=\"nickName\" label=\"用户名\"></el-table-column>\r\n      <el-table-column prop=\"roles\" label=\"用户角色\" width='200px'>\r\n        <template slot-scope='scope'>\r\n          <span class=\"mr10\" v-for='(itm,index) in scope.row.roles' :key='index'>{{itm.name}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"tel\" label=\"手机号\" width='150px'></el-table-column>\r\n      <el-table-column prop=\"managerStatus\" label=\"状态\">\r\n        <template slot-scope='scope'>\r\n          <div v-for='(itm,index) in userStatus' :key='index'>\r\n            <span \r\n            :class=\"scope.row.managerStatus===1? 'col-sucs' : 'col-danger'\" \r\n            v-if=\"itm.value === scope.row.managerStatus\">{{itm.label}}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" width='170px'>\r\n        <template slot-scope='scope'>\r\n          <span>{{scope.row.createTime | formatDate}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"id\" label=\"操作\" width=\"200px\">\r\n          <!-- v-if='scope.row.uuid !== adminUuid' -->\r\n        <template slot-scope=\"scope\">\r\n          <el-button  @click=\"showEdit(1,scope.row)\" icon=\"el-icon-edit\" type=\"success\" size=\"small\">编辑</el-button>\r\n          <el-button @click=\"deleteRole(scope.row)\" icon=\"el-icon-delete\" type=\"danger\" size=\"small\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <editUserRoles :editData='editData' @closeMain='closeMain' @refresh=\"searchList\"/>\r\n    <pagination :currentPage=\"page.page\" :pageSize=\"page.limit\" :total=\"page.total\" @change=\"changePage\"></pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {getAdminRoles,getRoles,removeUserRoles} from '@/api/home'\r\nimport editUserRoles from '@/components/rolesManage/editUserRoles'\r\nexport default {\r\n  components:{\r\n    editUserRoles\r\n  },\r\n  data(){\r\n    return{\r\n      loading:false,\r\n      searchParam:{},\r\n      roleList:[],\r\n      roleId:'',\r\n      adminUuid: sessionStorage.getItem('userInfo') ? JSON.parse(sessionStorage.getItem('userInfo')).uuid : '',\r\n      list: [],//管理员权限列表\r\n      roleList:[],//角色列表\r\n      userStatus: require('@/config').adminStatus,\r\n      editData:{\r\n        isShow:false, //是否显示\r\n        isEdit:false, //是否编辑 \r\n        data:{}\r\n      },\r\n      time:[],\r\n      page: {\r\n        page: 1,\r\n        limit: 10,\r\n        total: 0\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    searchList(){\r\n      this.time = this.time || []\r\n      this.searchParam.searchTime_after = this.$utils.formatRange(this.time)[0]\r\n      this.searchParam.searchTime_before = this.$utils.formatRange(this.time)[1]\r\n      let param = {\r\n        ... this.searchParam,\r\n        pageSize: this.page.limit,\r\n        page: this.page.page\r\n      }\r\n      this.loading=true;\r\n      getAdminRoles(param).then(res => {\r\n        this.loading=false;\r\n        if(res.code === 200){\r\n          this.list = res.data.results\r\n          this.page.total = res.data.count\r\n        }\r\n      }).catch(err=>{\r\n        this.loading=false;\r\n      })\r\n    },\r\n    //新增编辑弹框\r\n    showEdit(type,row){\r\n      this.editData.isShow = true\r\n      this.editData = {\r\n        isShow: true,\r\n        isEdit : !!type,\r\n        data: !!type ? row : {},\r\n      }\r\n    },\r\n    closeMain(){\r\n      this.editData.isShow = false;\r\n   \r\n    },\r\n    //删除用户\r\n    deleteRole(row) {\r\n      this.$confirm('确定删除管理员【'+ row.nickName +'】?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        removeUserRoles({uuid:row.uuid}).then(res => {\r\n          if(res.code === 200) {\r\n            this.$message.success(res.msg || '删除成功')\r\n            this.searchList()\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });          \r\n      });\r\n    },\r\n    changePage(page, pageSize) {\r\n      this.page.limit = pageSize;\r\n      this.page.page = page;\r\n      this.searchList();\r\n    },\r\n    //获取用户角色列表\r\n    getRolesList(){\r\n      let param = {\r\n        page: 1,\r\n        pageSize: 100000,\r\n      }\r\n      getRoles(param).then(res =>{\r\n        if(res.code === 200) {\r\n          this.roleList = res.data.results\r\n        }\r\n      })\r\n    },\r\n    resetForm(){\r\n      this.searchParam = {}\r\n      this.time = []\r\n      this.searchList()\r\n    }\r\n\r\n  },\r\n  created(){\r\n    this.getRolesList()\r\n    this.searchList()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n   /deep/ .el-table th {\r\n    background: #e9eef3;\r\n  }\r\n  .author-avator{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    vertical-align: middle;\r\n  }\r\n  .my-audio{\r\n    height: 40px;\r\n    width: 400px;\r\n    margin: 10px auto;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./userRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./userRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userRoles.vue?vue&type=template&id=51bd7f46&scoped=true&\"\nimport script from \"./userRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./userRoles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userRoles.vue?vue&type=style&index=0&id=51bd7f46&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51bd7f46\",\n  null\n  \n)\n\nexport default component.exports","// 订单状态\r\nexport const orderStatus = [\r\n  { value: 1, label: '未发货'},\r\n  { value: 2, label: '已发货'},\r\n  { value: 3, label: '已完成'},\r\n  { value: 4, label: '申请退货中'},\r\n  { value: 5, label: '已退货'}\r\n]\r\n// 退款状态\r\nexport const refundStatus = [\r\n  { value: 1, label: '等待处理'},\r\n  { value: 2, label: '退款成功'},\r\n  { value: 3, label: '退款财务不通过'},\r\n  { value: 4, label: '取消申请退款'},\r\n]\r\n// 支付状态 (use)\r\nexport const payStatus = [\r\n  { value: 1, label: '未付款'},\r\n  { value: 2, label: '已付款'},\r\n  { value: 3, label: '退款中'},\r\n  { value: 4, label: '已退款'},\r\n  { value: 5, label: '支付超时'},\r\n  { value: 6, label: '用户取消'},\r\n  { value: 7, label: '管理员取消'}\r\n]\r\n//优惠券类型 (use)\r\nexport const couponType = [\r\n  { value: 1, label: \"单品券\"},\r\n  { value: 2, label: \"品类券\"},\r\n  { value: 3, label: \"通用券\"}\r\n]\r\n//课程类型 (use)\r\nexport const courseTypes = [\r\n  { value: 1, label: \"单次课\" },\r\n  { value: 2, label: \"系列课\" },\r\n  // { value: 3, label: \"专题课\" }\r\n]\r\n//课程权限 (use)\r\nexport const courseRights = [\r\n  { value: 1, label: \"免费课\" },\r\n  { value: 2, label: \"VIP\" },\r\n  { value: 3, label: \"精品课\" }\r\n]\r\n//课程形式 (use)\r\nexport const courseModality = [\r\n  { value: 1, label: \"直播课\" },\r\n  { value: 2, label: \"音频课\" },\r\n  { value: 3, label: \"视频课\" }\r\n]\r\n// //课程类型 (use)\r\n// export const courseTypeList = [\r\n//   { label: '单次课', value: '1' },\r\n//   { label: '系列课', value: '2' },\r\n//   { label: '专题课', value: '3' },\r\n//   // { label: '训练营', value: '4' },\r\n//   { label: '活动', value: '5' },\r\n//   { label: '实物', value: '6' },\r\n//   { label: '会员', value: '7' },\r\n// ]\r\n//课程状态 (use)\r\nexport const courseStatus = [\r\n  { value: 1, label: \"启用\"},\r\n  { value: 2, label: \"停用\"},\r\n  { value: 3, label: \"下架\"},\r\n  // { value: 4, label: \"删除\"}\r\n]\r\n//审核状态\r\nexport const checkStatus = [\r\n  { value: 1, label: \"待审核\"},\r\n  { value: 2, label: \"审核通过\"},\r\n  { value: 3, label: \"审核未通过\"},\r\n  { value: 4, label: \"建议人工复审\"}\r\n]\r\n//用户状态 \r\nexport const userStatus = [\r\n  { value: 1, label: \"正常\"},\r\n  { value: 2, label: \"删除\"},\r\n  { value: 3, label: \"禁止登录\"},\r\n  { value: 4, label: \"禁止发言\"}\r\n]\r\n//后台管理员状态 (use)\r\nexport const adminStatus = [\r\n  { value: 1, label: \"正常\"},\r\n  { value: 2, label: \"删除\"},\r\n  { value: 3, label: \"禁用\"},\r\n  { value: 4, label: \"非管理员\"}\r\n]\r\n//用户来源 (use)\r\nexport const userSource = [\r\n  { value: 1, label: \"H5\"},\r\n  { value: 2, label: \"App\"},\r\n  { value: 3, label: \"小程序\"},\r\n  { value: 4, label: \"老数据用户\"}\r\n]\r\n//商品类型 (use)\r\nexport const courseTypeList = [\r\n  {value:1, label: \"单次课\"},\r\n  {value:2, label: \"系列课\"},\r\n  {value:3, label: \"会员卡\"},\r\n  {value:4, label: \"虚拟物品\"},\r\n  {value:5, label: \"实物\"},\r\n  {value:6, label: \"专题\"},\r\n  // {value:7, label: \"训练营\"}\r\n]\r\n//分销状态 (use)\r\nexport const shareMoneyStatus = [\r\n  {value:1, label: \"无分销\"},\r\n  {value:2, label: \"未结算\"},\r\n  {value:3, label: \"已结算\"},\r\n  {value:4, label: \"已取消\"}\r\n]"],"sourceRoot":""}