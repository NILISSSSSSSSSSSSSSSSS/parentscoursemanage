(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-731de097"],{"3d2d":function(e,t,a){},"3e6f":function(e,t,a){},"4b33":function(e,t,a){"use strict";var l=a("3d2d"),r=a.n(l);r.a},edd0:function(e,t,a){"use strict";var l=a("3e6f"),r=a.n(l);r.a},ef73:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all-user pr"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"课程",name:"1"}},[a("lable-manage",{ref:"1",attrs:{current:"1"}})],1),a("el-tab-pane",{attrs:{label:"看点",name:"3"}},[a("lable-manage",{ref:"3",attrs:{current:"3"}})],1),a("el-tab-pane",{attrs:{label:"专家",name:"2"}},[a("lable-manage",{ref:"2",attrs:{current:"2"}})],1)],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"lableBox"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"400px"}},[a("div",{staticClass:"text item"},[a("el-tree",{attrs:{"expand-on-click-node":!1,data:e.data,props:e.defaultProps,"default-expand-all":e.isExpandAll},on:{"node-click":e.handleNodeClick}})],1)]),a("el-card",{staticClass:"box-card",staticStyle:{width:"500px","margin-left":"30px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(" "+e._s("ediet"==e.way?"标签信息":"新增标签"))])]),a("div",{staticClass:"text item"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"136px"}},[a("el-form-item",{attrs:{label:"标签类型："}},[a("el-radio",{attrs:{label:"1",disabled:"ediet"==e.way},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v(" 一级标签\n          ")]),"2"!==e.current?a("el-radio",{attrs:{label:"2",disabled:"ediet"==e.way},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v(" 二级标签\n          ")]):e._e()],1),a("el-form-item",{attrs:{label:"名称:",prop:"name",rules:e.notEmptyBlur}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),"2"==e.form.level?a("el-form-item",{attrs:{label:"父标签",prop:"parentUuid",rules:e.notEmptyChange}},[a("el-select",{attrs:{size:"small"},model:{value:e.form.parentUuid,callback:function(t){e.$set(e.form,"parentUuid",t)},expression:"form.parentUuid"}},e._l(e.data,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.uuid}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"显示顺序:",prop:"weight",rules:e.notEmptyChange}},[a("el-select",{attrs:{size:"small"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}},e._l(e.orderList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{model:{value:e.form.enable,callback:function(t){e.$set(e.form,"enable",t)},expression:"form.enable"}},[e._v("在标签栏中显示")])],1)],1)],1),a("div",{staticClass:"tc"},["ediet"==e.way?[a("el-button",{staticClass:"ml40 mb20 mt4",attrs:{type:"primary",size:"small"},on:{click:e.reduction}},[e._v("还原\n        ")])]:e._e(),a("el-button",{staticClass:"ml40 mb20 mt4",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.save("form")}}},[e._v("保存\n      ")]),"ediet"==e.way?a("el-button",{staticClass:"ml40 mb20 mt4",attrs:{type:"primary",size:"small"},on:{click:e.addNew}},[e._v("添加新标签\n      ")]):e._e()],2)])],1)},i=[],s=(a("cc57"),a("163d"),a("3191")),o={props:{current:{type:String,default:"1"}},data:function(){return{form:{level:"1",enable:!0},orderList:[],notEmptyBlur:[{required:!0,message:"不能为空",trigger:"blur"}],notEmptyChange:[{required:!0,message:"不能为空",trigger:"change"}],data:[],defaultProps:{children:"children",label:"name"},isExpandAll:!0,way:"add",copyData:{},loading:!1}},mounted:function(){this.orderList=[];for(var e=1;e<20;e++)this.orderList.push({label:e,value:e});this.getList()},methods:{getList:function(){var e=this,t={tagType:Number(this.current),pageSize:1e3};this.loading=!0,Object(s["lc"])(t).then((function(t){200===t.code&&(t.data&&t.data.count>0?(console.log("原数据："+JSON.stringify(t.data.results)),e.data=e.$utils.toTree({allData:t.data.results,objKey:"uuid",parentNode:"parentUuid"}),console.log("当前数据:"+JSON.stringify(e.data))):e.data=[]),e.loading=!1})).catch((function(t){e.loading=!1}))},addNew:function(){this.resetForm()},handleNodeClick:function(e){this.$refs["form"].resetFields(),this.way="ediet",console.log(e),this.copyData=JSON.parse(JSON.stringify(e)),this.form={name:e.name,level:e.level+"",weight:e.weight,enable:e.enable,parentUuid:e.parentUuid?e.parentUuid.uuid:null,uuid:e.uuid}},save:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={name:t.form.name,level:t.form.level,weight:t.form.weight,enable:t.form.enable,tagType:t.current,uuid:t.form.uuid};"2"==t.form.level&&(a.parentUuid=t.form.parentUuid);var l="add"==t.way?s["h"]:s["Y"];l(a).then((function(e){200===e.code&&(t.$message.success("成功"),t.resetForm(),t.getList())})).catch((function(e){}))}))},reduction:function(){this.form={name:this.copyData.name,level:this.copyData.level+"",weight:this.copyData.weight,enable:this.copyData.enable,parentUuid:this.copyData.parentUuid?this.copyData.parentUuid.uuid:null,uuid:this.copyData.uuid}},resetForm:function(){this.$refs["form"].resetFields(),this.way="add",this.form={level:"1",enable:!0}}}},c=o,d=(a("4b33"),a("5511")),u=Object(d["a"])(c,n,i,!1,null,"182aba9a",null),m=u.exports,f={components:{lableManage:m},data:function(){return{activeName:"1"}},methods:{handleClick:function(e,t){}}},p=f,b=(a("edd0"),Object(d["a"])(p,l,r,!1,null,"315be5af",null));t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-731de097.47a9d37d.js.map