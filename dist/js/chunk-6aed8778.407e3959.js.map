{"version":3,"sources":["webpack:///./src/views/rolesManage/roles.vue?e4ba","webpack:///./src/components/rolesManage/editRoles.vue?ab0d","webpack:///./src/components/rolesManage/menuList.vue?52b0","webpack:///src/components/rolesManage/menuList.vue","webpack:///./src/components/rolesManage/menuList.vue?efc0","webpack:///./src/components/rolesManage/menuList.vue","webpack:///src/components/rolesManage/editRoles.vue","webpack:///./src/components/rolesManage/editRoles.vue?4086","webpack:///./src/components/rolesManage/editRoles.vue","webpack:///src/views/rolesManage/roles.vue","webpack:///./src/views/rolesManage/roles.vue?50c6","webpack:///./src/views/rolesManage/roles.vue","webpack:///./src/components/rolesManage/editRoles.vue?0e8b","webpack:///./src/views/rolesManage/roles.vue?7bc3","webpack:///./src/components/rolesManage/menuList.vue?0729"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nativeOn","$event","preventDefault","type","indexOf","_k","keyCode","key","searchList","model","value","callback","$$v","name","trim","expression","on","_v","showEdit","directives","rawName","list","scopedSlots","_u","fn","scope","row","deleteRole","editData","closeMain","page","limit","total","changePage","staticRenderFns","isShow","isEdit","$set","ref","editForm","rules","slot","close","saveRoles","menuList","defaultProps","getChecked","data","component","components","editRoles","roleList","roleId","loading","methods","pageSize","JSON","parse","stringify","$confirm","confirmButtonText","cancelButtonText","message","mounted"],"mappings":"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","file":"js/chunk-6aed8778.407e3959.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all-user\"},[_c('el-form',{attrs:{\"inline\":\"\",\"label-position\":\"right\",\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"角色名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchList($event)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}})],1),_c('el-button',{staticClass:\"ml40 mb20\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchList}},[_vm._v(\"查询\")]),_c('el-button',{staticClass:\"ml40 mb20\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.showEdit(0)}}},[_vm._v(\"添加角色\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mb20\",attrs:{\"data\":_vm.list,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"角色名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"角色描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEdit(1,scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteRole(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('editRoles',{attrs:{\"editData\":_vm.editData},on:{\"closeMain\":_vm.closeMain,\"freshParent\":_vm.searchList}}),_c('pagination',{attrs:{\"currentPage\":_vm.page.page,\"pageSize\":_vm.page.limit,\"total\":_vm.page.total},on:{\"change\":_vm.changePage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.editData.isShow,\"title\":_vm.editData.isEdit ? \"编辑角色\":\"新增角色\",\"width\":\"500px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.editData, \"isShow\", $event)}}},[_c('el-form',{ref:\"editForm\",attrs:{\"inline\":\"\",\"model\":_vm.editForm,\"rules\":_vm.rules,\"labelPosition\":\"right\",\"labelWidth\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"角色名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\",\"clearable\":\"\"},model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述：\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色描述\",\"clearable\":\"\"},model:{value:(_vm.editForm.remark),callback:function ($$v) {_vm.$set(_vm.editForm, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.remark\"}})],1),_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"操作权限：\",\"prop\":\"permissions\"}},[_c('menuTag',{staticClass:\"mt5\",model:{value:(_vm.editForm.permissions),callback:function ($$v) {_vm.$set(_vm.editForm, \"permissions\", $$v)},expression:\"editForm.permissions\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoles}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.menuList,\"show-checkbox\":\"\",\"node-key\":\"uuid\",\"highlight-current\":\"\",\"props\":_vm.defaultProps},on:{\"check-change\":_vm.getChecked}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<el-tree\r\n\t\t\t@check-change=\"getChecked\"\r\n\t\t\t:data=\"menuList\"\r\n\t\t\tshow-checkbox\r\n\t\t\tnode-key=\"uuid\"\r\n\t\t\tref=\"tree\"\r\n\t\t\thighlight-current\r\n\t\t\t:props=\"defaultProps\">\r\n\t\t</el-tree>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport {getMenus} from \"@/api/home\";\r\nexport default {\r\n\tprops:{\r\n\t\tvalue:{\r\n\t\t\ttype:Array,\r\n\t\t\tdefault:()=>{return []}\r\n\t\t},\r\n\t\tchecked:{\r\n\t\t\ttype:Array,\r\n\t\t\tdefault:()=>{return []}\r\n\t\t},\r\n\t},\r\n  data() {\r\n    return {\r\n\t\t\r\n\t\t\tmenuList: [],\r\n\t\t\tcheckedList:[],//选中列表\r\n\t\t\tdefaultProps: {\r\n\t\t\t\tchildren: 'subMenu',\r\n\t\t\t\tlabel: 'menuName'\r\n\t\t\t}\r\n    };\r\n\t},\r\n\tmethods:{\r\n    //获取菜单\r\n\t\tgetMenuList(){\r\n\t\t\tgetMenus().then(res =>{\r\n\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\tthis.menuList = res.data\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetChecked(obj,isChecked,cc){\r\n\t\t  let checkedList = this.$refs.tree.getCheckedKeys();\r\n\t\t\tthis.$emit(\"input\",checkedList);\r\n\t\t},\r\n\t\t\r\n\t},\r\n\tmounted(){\r\n\t\tthis.getMenuList()\r\n\t\tthis.$refs.tree.setCheckedKeys(this.value)\r\n\t},\r\n\t\r\n\twatch:{\r\n\t\tvalue(val,old){\r\n\t\t\tthis.$refs.tree.setCheckedKeys(val);\r\n\t\t},\r\n\t\tdeep:true\r\n\t\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\t/deep/.el-tree{\r\n\t\tbackground: none;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./menuList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./menuList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menuList.vue?vue&type=template&id=133d62da&scoped=true&\"\nimport script from \"./menuList.vue?vue&type=script&lang=js&\"\nexport * from \"./menuList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menuList.vue?vue&type=style&index=0&id=133d62da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"133d62da\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div>\r\n\t\t<el-dialog :visible.sync='editData.isShow' :title='editData.isEdit ? \"编辑角色\":\"新增角色\"' width='500px'\r\n\t\t\t:close-on-click-modal='false'>\r\n\t\t\t<el-form inline :model='editForm' ref='editForm' :rules='rules' labelPosition='right' labelWidth='100px'>\r\n\t\t\t\t<el-form-item prop='name' label='角色名称：'>\r\n\t\t\t\t\t<el-input v-model.trim='editForm.name' placeholder='角色名称' clearable></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label='角色描述：' prop='remark'>\r\n\t\t\t\t\t<el-input v-model.trim='editForm.remark' placeholder='角色描述' clearable></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-form-item label=\"操作权限：\" prop='permissions'>\r\n\t\t\t\t\t\t<menuTag v-model='editForm.permissions' class=\"mt5\" />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"close\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveRoles\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { addRoles, editRoles } from '@/api/home'\r\n\r\n\timport menuTag from '@/components/rolesManage/menuList'\r\n\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\teditData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => { return {} }\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tmenuTag\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\teditForm: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tremark: '',\r\n\t\t\t\t\tpermissions: []//权限列表\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入名称', trigger: 'change' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tremark:[\r\n\t\t\t\t\t{ required: true, message: '请输入角色描述', trigger: 'change' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tpermissions: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择操作权限', trigger: 'change' }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//提交\r\n\t\t\tsaveRoles() {\r\n\t\t\t\tthis.$refs['editForm'].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (this.editForm.permissions.length == 0) {\r\n\t\t\t\t\t\t\tthis.$message.error(\"请选择操作权限\"); return;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.editData.isEdit) {\r\n\t\t\t\t\t\t\tthis.edit()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.add()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//添加角色\r\n\t\t\tadd() {\r\n\t\t\t\taddRoles(this.editForm).then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.$message.success(res.msg || '创建角色成功');\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\tthis.$emit(\"freshParent\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//编辑角色\r\n\t\t\tedit() {\r\n\t\t\t\teditRoles(this.editForm).then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.$message.success(res.msg || '编辑角色成功')\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\tthis.$emit(\"freshParent\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.$emit('closeMain', true)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'editData.isShow'(val, oldVal) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tthis.$refs['editForm'] ? this.$refs['editForm'].resetFields() : null;\r\n\t\t\t\t\tif (this.editData.isEdit) {\r\n\t\t\t\t\t\tthis.editForm = this.editData.data\r\n\t\t\t\t\t\tlet cc = _.map(this.editForm.permissions, 'uuid')\r\n\t\t\t\t\t\tthis.editForm.permissions = cc;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.editForm = {\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\tremark: '',\r\n\t\t\t\t\t\t\tpermissions: []//权限列表\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\t.el-input {\r\n\t\twidth: 100%;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editRoles.vue?vue&type=template&id=6c4705a0&scoped=true&\"\nimport script from \"./editRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./editRoles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editRoles.vue?vue&type=style&index=0&id=6c4705a0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c4705a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"all-user\">\r\n     <!-- 搜索条件 -->\r\n    <el-form inline @submit.native.prevent label-position=\"right\" label-width=\"100px\">\r\n      <el-form-item label='角色名称：'>\r\n        <el-input v-model.trim='name' @keyup.enter.native='searchList' placeholder='角色名称' clearable></el-input>\r\n        <!-- <el-select v-model='roleId' size='small' clearable>\r\n          <el-option v-for='(itm,index) in roleList' :key='index' :label='itm.name' :value='itm.value'></el-option>\r\n        </el-select> -->\r\n      </el-form-item>\r\n      <el-button @click=\"searchList\" class=\"ml40 mb20\" type=\"success\" icon=\"el-icon-search\">查询</el-button>\r\n      <el-button @click=\"showEdit(0)\" class=\"ml40 mb20\" type=\"primary\" icon=\"el-icon-plus\">添加角色</el-button>\r\n    </el-form>\r\n     <!-- 搜索结果 -->\r\n    <el-table :data=\"list\" border stripe class=\"mb20\" v-loading=\"loading\">\r\n      <el-table-column prop=\"name\" label=\"角色名称\"></el-table-column>\r\n      <el-table-column prop=\"remark\" label=\"角色描述\"></el-table-column>\r\n      <el-table-column prop=\"id\" label=\"操作\" width=\"200px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button  @click=\"showEdit(1,scope.row)\" icon=\"el-icon-edit\" type=\"success\" size=\"small\">编辑</el-button>\r\n          <el-button @click=\"deleteRole(scope.row)\" icon=\"el-icon-delete\" type=\"danger\" size=\"small\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <editRoles :editData='editData' @closeMain='closeMain' @freshParent=\"searchList\"/>\r\n    <pagination :currentPage=\"page.page\" :pageSize=\"page.limit\" :total=\"page.total\" @change=\"changePage\"></pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getRoles,removeRoles } from '@/api/home'\r\nimport editRoles from '@/components/rolesManage/editRoles'\r\nexport default {\r\n  components:{\r\n    editRoles\r\n  },\r\n  data(){\r\n    return{\r\n      roleList:[],\r\n      name:'',//角色名称\r\n      roleId:'',\r\n      list: [],\r\n      editData:{\r\n        isShow:false, //是否显示\r\n        isEdit:false, //是否编辑 \r\n        data:{}\r\n      },\r\n      page: {\r\n        page: 1,\r\n        limit: 10,\r\n        total: 0\r\n      },\r\n      loading:false,\r\n    }\r\n  },\r\n  methods:{\r\n    searchList(){\r\n      let param = {\r\n        name: this.name,\r\n        page: this.page.page,\r\n        pageSize: this.page.limit,\r\n      }\r\n      this.loading=true;\r\n      getRoles(param).then(res =>{\r\n        this.loading=false;\r\n        if(res.code === 200) {\r\n          this.list = res.data.results\r\n          this.page.total = res.data.count\r\n        }\r\n      }).catch(err=>{\r\n        this.loading=false;\r\n      })\r\n    },\r\n    //新增编辑弹框\r\n    showEdit(type,row){\r\n     \r\n      this.editData.isShow = true\r\n      this.editData = {\r\n        isShow: true,\r\n        isEdit : !!type,\r\n        data: !!type ? JSON.parse(JSON.stringify(row)) : {},\r\n      }\r\n    },\r\n    closeMain(data){\r\n      this.editData.isShow = false\r\n    },\r\n    //删除角色\r\n    deleteRole(row) {\r\n      this.$confirm('确定删除角色【'+ row.name +'】?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        removeRoles({uuid:row.uuid}).then(res => {\r\n          if(res.code === 200){\r\n            this.$message.success(res.msg || '删除成功')\r\n            this.searchList()\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });          \r\n      });\r\n    },\r\n    changePage(page, pageSize) {\r\n      this.page.limit = pageSize;\r\n      this.page.page = page;\r\n      this.searchList();\r\n    }\r\n  },\r\n  mounted(){\r\n    this.searchList()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n   /deep/ .el-table th {\r\n    background: #e9eef3;\r\n  }\r\n  .author-avator{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    vertical-align: middle;\r\n  }\r\n  .my-audio{\r\n    height: 40px;\r\n    width: 400px;\r\n    margin: 10px auto;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=000d9fe3&scoped=true&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roles.vue?vue&type=style&index=0&id=000d9fe3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"000d9fe3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editRoles.vue?vue&type=style&index=0&id=6c4705a0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./editRoles.vue?vue&type=style&index=0&id=6c4705a0&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=000d9fe3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=000d9fe3&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./menuList.vue?vue&type=style&index=0&id=133d62da&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./menuList.vue?vue&type=style&index=0&id=133d62da&lang=less&scoped=true&\""],"sourceRoot":""}